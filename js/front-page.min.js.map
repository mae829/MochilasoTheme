{"version":3,"sources":["front-page.min.js"],"names":["removeDuplicateElement","arrayName","newArray","label","i","length","j","$","$googlemaps","google","maps","$geocoder","Geocoder","opts","$markersToLoad","methods","init","options","k","extend","fn","gMap","defaults","icon","this","each","$this","center","_getMapCenter","apply","mapOptions","zoom","mapTypeControl","zoomControl","panControl","scaleControl","streetViewControl","mapTypeId","maptype","scrollwheel","log","console","$gmap","Map","data","gmap","markers","infoWindow","controls","pos","push","div","addMarker","_onComplete","$data","that","onComplete","window","setTimeout","_setMapCenter","undefined","setCenter","latitude","longitude","LatLng","address","geocode","result","status","GeocoderStatus","OK","geometry","location","isArray","selectedToCenter","processMarker","marker","gicon","gshadow","_gicon","image","iconSize","Size","iconsize","iconAnchor","Point","iconanchor","infoWindowAnchor","infowindowanchor","MarkerImage","shadow","shadowsize","gmarker","Marker","position","title","map","setShadow","html","infoOpts","content","html_prepend","html_append","pixelOffset","InfoWindow","event","addListener","singleInfoWindow","close","open","popup","_geocodeMarker","results","_gshadow","anchor","gpoint","removeAllMarkers","setMap","method","Array","prototype","slice","call","arguments","error","MapTypeId","ROADMAP","jQuery","hide","show","custom_icon","$theme_location","$locations","$newLocations","$titles","$newTitles","text","grep","n","el","substring","inArray","infowindow","locations","myOptions","map1","document","getElementById","$newLocationsLength","$locationsplit","split","newLat","newLng","newLatLng","createMarker","name","setOptions","maxWidth","setContent","Polyline","path","strokeColor","strokeOpacity","strokeWeight","initializeMap"],"mappings":"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","file":"front-page.min.js","sourcesContent":["/**\r\n * jQuery gMap v3\r\n *\r\n * @url         http://www.smashinglabs.pl/gmap\r\n * @author      Sebastian Poreba <sebastian.poreba@gmail.com>\r\n * @version     3.1.0 RC2\r\n * @date        13.04.2011\r\n *\r\n */\r\n(function($){var $googlemaps=google.maps,$geocoder=new $googlemaps.Geocoder(),opts={},$markersToLoad=0,methods={init:function(options){opts=$.extend({},$.fn.gMap.defaults,options);for(var k in $.fn.gMap.defaults.icon){if(!opts.icon[k]){opts.icon[k]=$.fn.gMap.defaults.icon[k];}}\r\nreturn this.each(function(){var $this=$(this),center=methods._getMapCenter.apply($this,[]),mapOptions={zoom:opts.zoom,center:center,mapTypeControl:opts.mapTypeControl,zoomControl:opts.zoomControl,panControl:opts.panControl,scaleControl:opts.scaleControl,streetViewControl:opts.streetViewControl,mapTypeId:opts.maptype,scrollwheel:opts.scrollwheel};if(opts.log){console.log('map center is:');}\r\nif(opts.log){console.log(center);}\r\nvar $gmap=new $googlemaps.Map(this,mapOptions);$this.data(\"$gmap\",$gmap);$this.data('gmap',{'opts':opts,'gmap':$gmap,'markers':[],'infoWindow':null});if(opts.controls.length!==0){for(var i=0;i<opts.controls.length;i+=1){$gmap.controls[opts.controls[i].pos].push(opts.controls[i].div);}}\r\nif(opts.markers.length!==0){for(var i=0;i<opts.markers.length;i+=1){methods.addMarker.apply($this,[opts.markers[i]]);}}\r\nmethods._onComplete.apply($this,[]);});},_onComplete:function(){var $data=this.data('gmap'),that=this;if($markersToLoad!==0){window.setTimeout(function(){methods._onComplete.apply(that,[])},1000);return;}\r\n$data.opts.onComplete();},_setMapCenter:function(center){if(opts.log){console.log('delayed setMapCenter called');}\r\nvar $data=this.data('gmap');if($data.gmap!==undefined){$data.gmap.setCenter(center);}else{var that=this;window.setTimeout(function(){methods._setMapCenter.apply(that,[center]);},500);}},_getMapCenter:function(){var center,that=this;if(opts.latitude&&opts.longitude){center=new $googlemaps.LatLng(opts.latitude,opts.longitude);return center;}else{center=new $googlemaps.LatLng(0,0);}\r\nif(opts.address){$geocoder.geocode({address:opts.address},function(result,status){if(status===google.maps.GeocoderStatus.OK){methods._setMapCenter.apply(that,[result[0].geometry.location]);}else{if(opts.log){console.log(\"Geocode was not successful for the following reason: \"+status);}}});return center;}\r\nif($.isArray(opts.markers)&&opts.markers.length>0){var selectedToCenter=null;for(var i=0;i<opts.markers.length;i+=1){if(opts.markers[i].latitude&&opts.markers[i].longitude){selectedToCenter=opts.markers[i];break;}\r\nif(opts.markers[i].address){selectedToCenter=opts.markers[i];}}\r\nif(selectedToCenter===null){return center;}\r\nif(selectedToCenter.latitude&&selectedToCenter.longitude){return new $googlemaps.LatLng(selectedToCenter.latitude,selectedToCenter.longitude);}\r\nif(selectedToCenter.address){$geocoder.geocode({address:selectedToCenter.address},function(result,status){if(status===google.maps.GeocoderStatus.OK){methods._setMapCenter.apply(that,[result[0].geometry.location]);}else{if(opts.log){console.log(\"Geocode was not successful for the following reason: \"+status);}}});}}\r\nreturn center;},processMarker:function(marker,gicon,gshadow,location){var $data=this.data('gmap'),$gmap=$data.gmap;if(location===undefined){location=new $googlemaps.LatLng(marker.latitude,marker.longitude);}\r\nif(!gicon){var _gicon={image:opts.icon.image,iconSize:new $googlemaps.Size(opts.icon.iconsize[0],opts.icon.iconsize[1]),iconAnchor:new $googlemaps.Point(opts.icon.iconanchor[0],opts.icon.iconanchor[1]),infoWindowAnchor:new $googlemaps.Size(opts.icon.infowindowanchor[0],opts.icon.infowindowanchor[1])};gicon=new $googlemaps.MarkerImage(_gicon.image,_gicon.iconSize,null,_gicon.iconAnchor);}\r\nif(!gshadow){var _gshadow={image:opts.icon.shadow,iconSize:new $googlemaps.Size(opts.icon.shadowsize[0],opts.icon.shadowsize[1]),anchor:(_gicon&&_gicon.iconAnchor)?_gicon.iconAnchor:new $googlemaps.Point(opts.icon.iconanchor[0],opts.icon.iconanchor[1])};}\r\nvar gmarker=new $googlemaps.Marker({position:location,icon:gicon,title:marker.title,map:$gmap});gmarker.setShadow(gshadow);$data.markers.push(gmarker);var infoWindow;if(marker.html){var infoOpts={content:opts.html_prepend+marker.html+opts.html_append,pixelOffset:marker.infoWindowAnchor};if(opts.log){console.log('setup popup with data');}\r\nif(opts.log){console.log(infoOpts);}\r\ninfoWindow=new $googlemaps.InfoWindow(infoOpts);$googlemaps.event.addListener(gmarker,'click',function(){if(opts.log){console.log('opening popup '+marker.html);}\r\nif(opts.singleInfoWindow&&$data.infoWindow){$data.infoWindow.close();}\r\ninfoWindow.open($gmap,gmarker);$data.infoWindow=infoWindow;});}\r\nif(marker.html&&marker.popup){if(opts.log){console.log('opening popup '+marker.html);}\r\ninfoWindow.open($gmap,gmarker);}},_geocodeMarker:function(marker,gicon,gshadow){$markersToLoad+=1;var that=this;$geocoder.geocode({'address':marker.address},function(results,status){$markersToLoad-=1;if(status===$googlemaps.GeocoderStatus.OK){methods.processMarker.apply(that,[marker,gicon,gshadow,results[0].geometry.location]);}else{if(opts.log){console.log(\"Geocode was not successful for the following reason: \"+status);}}});},addMarker:function(marker){if(opts.log){console.log(\"putting marker at \"+marker.latitude+', '+marker.longitude+\" with address \"+marker.address+\" and html \"+marker.html);}\r\nvar _gicon={image:opts.icon.image,iconSize:new $googlemaps.Size(opts.icon.iconsize[0],opts.icon.iconsize[1]),iconAnchor:new $googlemaps.Point(opts.icon.iconanchor[0],opts.icon.iconanchor[1]),infoWindowAnchor:new $googlemaps.Size(opts.icon.infowindowanchor[0],opts.icon.infowindowanchor[1])},_gshadow={image:opts.icon.shadow,iconSize:new $googlemaps.Size(opts.icon.shadowsize[0],opts.icon.shadowsize[1]),anchor:_gicon.iconAnchor};marker.infoWindowAnchor=_gicon.infoWindowAnchor;if(marker.icon){if(marker.icon.image){_gicon.image=marker.icon.image;}\r\nif(marker.icon.iconsize){_gicon.iconSize=new $googlemaps.Size(marker.icon.iconsize[0],marker.icon.iconsize[1]);}\r\nif(marker.icon.iconanchor){_gicon.iconAnchor=new $googlemaps.Point(marker.icon.iconanchor[0],marker.icon.iconanchor[1]);}\r\nif(marker.icon.infowindowanchor){_gicon.infoWindowAnchor=new $googlemaps.Size(marker.icon.infowindowanchor[0],marker.icon.infowindowanchor[1]);}\r\nif(marker.icon.shadow){_gshadow.image=marker.icon.shadow;}\r\nif(marker.icon.shadowsize){_gshadow.iconSize=new $googlemaps.Size(marker.icon.shadowsize[0],marker.icon.shadowsize[1]);}}\r\nvar gicon=new $googlemaps.MarkerImage(_gicon.image,_gicon.iconSize,null,_gicon.iconAnchor);var gshadow=new $googlemaps.MarkerImage(_gshadow.image,_gshadow.iconSize,null,_gshadow.anchor);if(marker.address){if(marker.html==='_address'){marker.html=marker.address;}\r\nif(marker.title=='_address'){marker.title=marker.address;}\r\nif(opts.log){console.log('geocoding marker: '+marker.address);}\r\nmethods._geocodeMarker.apply(this,[marker,gicon,gshadow]);}\r\nelse{if(marker.html==='_latlng'){marker.html=marker.latitude+', '+marker.longitude;}\r\nif(marker.title=='_latlng'){marker.title=marker.latitude+', '+marker.longitude;}\r\nvar gpoint=new $googlemaps.LatLng(marker.latitude,marker.longitude);methods.processMarker.apply(this,[marker,gicon,gshadow,gpoint]);}},removeAllMarkers:function(){var markers=this.data('gmap').markers,i;for(i=0;i<markers.length;i+=1){markers[i].setMap(null);}\r\nmarkers=[];}};$.fn.gMap=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.gmap');}};$.fn.gMap.defaults={log:false,address:'',latitude:null,longitude:null,zoom:3,markers:[],controls:{},scrollwheel:true,maptype:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,zoomControl:true,panControl:false,scaleControl:false,streetViewControl:true,singleInfoWindow:true,html_prepend:'<div class=\"gmap_marker\">',html_append:'</div>',icon:{image:\"http://www.google.com/mapfiles/marker.png\",iconsize:[20,34],iconanchor:[9,34],infowindowanchor:[9,2],shadow:\"http://www.google.com/mapfiles/shadow50.png\",shadowsize:[37,34]},onComplete:function(){}};}(jQuery));\r\n\r\n\r\n$(function() {\r\n\r\n\t$( '.no-js' ).hide();\r\n\r\n\t$( 'body.home #post-listing' ).hide();\r\n\r\n\t$( '#map-holder' ).show();\r\n\r\n\r\n\r\n\tvar custom_icon = $theme_location + '/images/yellow_pin.png',\r\n\r\n\t$locations      = $( '.coordinates' ),\r\n\r\n\tlocationArray   = [],\r\n\r\n\t$newLocations   = [],\r\n\r\n\t$titles         = $( '.location' ),\r\n\r\n\t$newTitles      = [];\r\n\r\n\r\n\r\n\t$locations.each( function( i ) {\r\n\r\n\t\t$locations[i] = $(this).text();\r\n\r\n\t} );\r\n\r\n\r\n\r\n\t$titles.each( function( i ) {\r\n\r\n\t\t$titles[i] = $(this).text();\r\n\r\n\t} );\r\n\r\n\r\n\r\n\t$locations = $.grep( $locations, function( n ) {\r\n\r\n\t\treturn n;\r\n\r\n\t} );\r\n\r\n\r\n\r\n\t$.each( $locations, function( i, el ) {\r\n\r\n\t\tel = el.substring( 1 );\r\n\r\n\t\tel = el.substring( 0, el.length - 1 );\r\n\r\n\t\tif ( $.inArray( el, $newLocations ) === -1 ) {\r\n\r\n\t\t\t$newLocations.push( el );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\r\n\t$titles = $.grep( $titles, function( n ) {\r\n\r\n\t\treturn n;\r\n\r\n\t} );\r\n\r\n\r\n\r\n\t$.each( $titles, function( i, el ) {\r\n\r\n\t\tif ( $.inArray( el, $newTitles ) === -1 ) {\r\n\r\n\t\t\t$newTitles.push( el );\r\n\r\n\t\t}\r\n\r\n\t} );\r\n\r\n\r\n\r\n\tfunction initializeMap() {\r\n\r\n\t\tvar html      = '';\r\n\r\n\t\tvar i         = 0;\r\n\r\n\t\tvar locations = [];\r\n\r\n\t\tvar myOptions = {\r\n\r\n\t\t\tcenter: new google.maps.LatLng( -25, -60 ),\r\n\r\n\t\t\tzoom: 3,\r\n\r\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\r\n\r\n\t\t},\r\n\r\n\t\tmap1          = new google.maps.Map(\r\n\r\n\t\t\tdocument.getElementById( 'map' ),\r\n\r\n\t\t\tmyOptions\r\n\r\n\t\t),\r\n\r\n\t\tinfowindow;\r\n\r\n\r\n\r\n\t\tvar $newLocationsLength = $newLocations.length;\r\n\r\n\r\n\r\n\t\tfor ( i = 0; i < $newLocationsLength; i++ ) {\r\n\r\n\t\t\tvar $locationsplit = $newLocations[i].split( ',' ),\r\n\r\n\t\t\t\tnewLat         = $locationsplit[0],\r\n\r\n\t\t\t\tnewLng         = $locationsplit[1],\r\n\r\n\t\t\t\tnewLatLng      = new google.maps.LatLng( newLat, newLng ),\r\n\r\n\t\t\t\tmarker         = {};\r\n\r\n\r\n\r\n\t\t\tlocations[i] = newLatLng;\r\n\r\n\r\n\r\n\t\t\tmarker.title = $newTitles[i];\r\n\r\n\t\t\tcreateMarker( marker.title, newLatLng );\r\n\r\n\t\t}\r\n\r\n\r\n\r\n\t\tvar trailPath = new google.maps.Polyline({\r\n\r\n\t\t\tpath: locations,\r\n\r\n\t\t\tstrokeColor: '#D36C00',\r\n\r\n\t\t\tstrokeOpacity: 0.8,\r\n\r\n\t\t\tstrokeWeight: 2\r\n\r\n\t\t});\r\n\r\n\t\ttrailPath.setMap( map1 );\r\n\r\n\r\n\r\n\t\tfunction createMarker( name, LatLng ) {\r\n\r\n\t\t\tvar marker = new google.maps.Marker({\r\n\r\n\t\t\t\tposition: LatLng,\r\n\r\n\t\t\t\tmap: map1,\r\n\r\n\t\t\t\ticon: custom_icon\r\n\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tinfowindow = new google.maps.InfoWindow();\r\n\r\n\t\t\tinfowindow.setOptions({\r\n\r\n\t\t\t\tmaxWidth: 150\r\n\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t\tgoogle.maps.event.addListener( marker, 'click', function() {\r\n\r\n\t\t\t\tif ( infowindow ) {\r\n\r\n\t\t\t\t\tinfowindow.close();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinfowindow.setContent( name );\r\n\r\n\t\t\t\tinfowindow.open( map1, marker );\r\n\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tinitializeMap();\r\n\r\n} );\r\n\r\n\r\n\r\ngoogle.maps.Map.prototype.addMarker = function( marker ) {\r\n\r\n\tthis.markers[ this.markers.length ] = marker;\r\n\r\n};\r\n\r\n\r\n\r\nfunction removeDuplicateElement( arrayName ) {\r\n\r\n\tvar newArray = [];\r\n\r\n\tlabel: for ( var i = 0; i < arrayName.length; i++ ) {\r\n\r\n\t\tfor ( var j = 0; j < newArray.length; j++ ) {\r\n\r\n\t\t\tif ( newArray[j] == arrayName[i] ) {\r\n\r\n\t\t\t\tcontinue label;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tnewArray[ newArray.length ] = arrayName[i];\r\n\r\n\t}\r\n\r\n\treturn newArray;\r\n\r\n}\r\n\r\n\r\n"]}